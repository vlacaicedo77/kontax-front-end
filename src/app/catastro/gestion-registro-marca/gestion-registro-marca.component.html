<hr class="mt-0">
<div class='row'>
    <div class='col-12'>
        <div class='card'>
            <div class="card-header bg-info text-white rounded-top">
                Registro de marca
            </div>
            <hr class="mt-0">
            <div class="card-body">
                <h4 class="card-title">Ingrese la información de búsqueda de la marca</h4>
                <form ngNativeValidate [formGroup]="formulario" class="form-horizontal r-separator" (ngSubmit)="anularMarca()" action="index.html">
                    <div class="form-group row align-items-center mb-0">
                        <label for="inputRuc" class="col-md-3 text-right control-label col-form-label">RUC del productor</label>
                        <div class="col-md-9 border-left pb-2 pt-2">
                            <input type="text" class="form-control" (keyup)="mascara($event,'ruc')" name="inputRuc" formControlName="inputRuc" placeholder="Ingrese el ruc del productor">
                        </div>
                    </div>
                    <div class="form-group row align-items-center mb-0">
                        <label for="inputCodigo" class="col-md-3 text-right control-label col-form-label">Código de la marca</label>
                        <div class="col-md-9 border-left pb-2 pt-2">
                            <input type="text" class="form-control" (keyup)="mascara($event,'alfanumerico')" name="inputCodigo" formControlName="inputCodigo" placeholder="Ingrese el código de la marca">
                        </div>
                    </div>
                    <div class="form-group text-center mt-3">
                        <div class="col-xs-12">
                            <button class="btn btn-info btn-lg btn-block text-uppercase waves-effect waves-light" type="button" (click)="cargarRegistrosMarca()">Buscar</button>
                        </div>
                    </div>
                    <h4 class="card-title">Datos de la marca a gestionar</h4>
                    <div class="form-group row align-items-center mb-0">
                        <label for="inputMarca" class="col-md-3 text-right control-label col-form-label">Marca</label>
                        <div class="col-md-9 border-left pb-2 pt-2">
                            <select class="form-control" formControlName="inputMarca" #idMarca (change)="cargarDetalleRegistro(idMarca.value)">
                                <option value=null selected disabled>Seleccione una opción</option>
                                <ng-container *ngFor="let marca of listaMarcas">
                                    <option  value="{{marca.id_registro_marca}}">{{marca.codigo}}</option>
                                </ng-container>
                            </select>
                        </div>
                    </div>
                    <hr class="mt-0">
                    <div *ngIf="this.detalleVisible">
                        <div class="form-group row align-items-center mb-0">
                            <label class="col-md-3 text-right control-label col-form-label">RUC Productor</label>
                            <div class="col-md-9 border-left pb-2 pt-2">
                                <label class="col-md-5 text-left control-label col-form-label">{{registroMarca.ruc_productor}}</label>
                            </div>
                        </div>
                        <div class="form-group row align-items-center mb-0">
                            <label class="col-md-3 text-right control-label col-form-label">Nombre Productor</label>
                            <div class="col-md-9 border-left pb-2 pt-2">
                                <label class="col-md-5 text-left control-label col-form-label">{{registroMarca.productor}}</label>
                            </div>
                        </div>
                        <div class="form-group row align-items-center mb-0">
                            <label class="col-md-3 text-right control-label col-form-label">Fecha de registro</label>
                            <div class="col-md-9 border-left pb-2 pt-2">
                                <label class="col-md-5 text-left control-label col-form-label">{{registroMarca.fecha_registro.substring(0,16)}}</label>
                            </div>
                        </div>
                        <div class="form-group row align-items-center mb-0">
                            <label class="col-md-3 text-right control-label col-form-label">Imagen de la marca</label>
                            <div class="form-group mb-0 text-left col-md-9">
                                <!--button type="button" (click)="descargarImagenMarca(registroMarca.url_marca, registroMarca.codigo)" class="btn btn-info waves-effect waves-light col-md-3">Descargar</button-->
                                <img [src]='rutaImagen' alt="imagen marca no encontrada" width="130" height="130rem">
                            </div>
                        </div>
                        <div class="form-group text-center mt-3">
                            <div class="col-xs-12">
                                <button class="btn btn-info btn-lg btn-block text-uppercase waves-effect waves-light" type="submit">Anular</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>        
</div>

