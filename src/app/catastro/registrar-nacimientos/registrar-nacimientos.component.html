<!-- Sección para buscar animales sin arete oficial -->
<div class="row" *ngIf="!formularioVisible && !infoAnimalVisible">
    <div class="col">
        <div class="card border border-info rounded">
            <div class="card-header bg-info text-white rounded-top font-weight-bold">
                Buscar nacimientos registrados durante en el último año
            </div>
            <form ngNativeValidate [formGroup]="formularioBusqueda" class="form-horizontal r-separator">
                <div class="card-body">
                    <div class="form-group row align-items-center mb-0">
                        <label class="col-md-3 text-right control-label col-form-label font-weight-bold">Mis sitios
                            activos</label>
                        <div class="col-md-8 border-left pb-2 pt-2">
                            <select formControlName="inputSitio" class="form-control border-secondary font-weight-bold"
                                #idSitio (change)="cambioSitio(idSitio.value)">
                                <option [value]="null" selected disabled>--- Seleccione una opción ---</option>
                                <option *ngFor="let area of listaAreas" [value]="area.idSitio">{{
                                    area.codigoSitio.toUpperCase()}} | {{ area.nombreProvinciaSitio.toUpperCase()}} - {{
                                    area.nombreCantonSitio.toUpperCase()}} | {{ area.nombre.toUpperCase() }}</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group row align-items-center mb-0">
                        <label class="col-md-3 text-right control-label col-form-label font-weight-bold">Categoría
                            etaria</label>
                        <div class="col-md-3 border-left pb-2 pt-2 input-group font-weight-bold">
                            <select class="form-control border-secondary font-weight-bold"
                                formControlName="inputCategoria" (change)="cambioCategoria()">
                                <option [value]="null" selected disabled>--- Seleccione una opción ---</option>
                                <option *ngFor="let categoria of categorias" [value]="categoria.id_categoria">
                                    {{ categoria.nombre }}
                                </option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group row align-items-center mb-0">
                        <label class="col-md-3 text-right control-label col-form-label font-weight-bold">ID</label>
                        <div class="col-md-3 border-left pb-2 pt-2 input-group">
                            <input type="text" class="form-control border-secondary" autocomplete="on"
                                formControlName="inputIdOficial" placeholder="Ejemplo: EC006132716" maxlength="11">
                        </div>
                    </div>
                    <div class="form-group row align-items-center mt-4"> <!-- Ajuste de margen -->
                        <div class="col-md-6"></div>
                        <div class="col-md-5 text-right">
                            <div class="btn-group">
                                <button type="submit" class="btn btn-info me-3 px-4" (click)="buscarAnimales(true)"
                                    style="font-weight: bold;">
                                    <i class="fas fa-search"></i> Buscar
                                </button>&nbsp;&nbsp;&nbsp;&nbsp;
                                <button class="btn btn-success px-4" (click)="accionNuevoBoton()"
                                    style="font-weight: bold;">
                                    <i class="fa fa-plus"></i> Nuevo
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- Panel para mostrar datos del sitio seleccionado -->
<div class="row" *ngIf="!formularioVisible && !infoAnimalVisible">
    <div class="col">
        <form ngNativeValidate [formGroup]="formularioDatosSitio" class="form-horizontal r-separator">
            <!-- Botón para ocultar/mostrar -->
            <button *ngIf="isVisibleBotonDetalles" class="btn btn-info mb-3 font-weight-bold"
                (click)="toggleVisibility()">
                <i class="fas {{ isVisible ? 'fa-eye-slash' : 'fa-eye' }}"></i>
                {{ isVisible ? 'Ocultar' : 'Mostrar' }} detalles del sitio
            </button>
            <!-- Datos del sitio -->
            <div class="row" *ngIf="isVisible">
                <div class="col">
                    <div class="card border rounded">
                        <div class="card-body">
                            <table class="table mt-3 table-borderless v-middle custom-table">
                                <tbody>
                                    <tr>
                                        <td></td>
                                        <td class="pl-0 text-left">PROPIETARIO:</td>
                                        <td class="pl-0 text-left font-weight-medium">
                                            <p>
                                                <span class="pl-0 text-left font-weight-medium">
                                                    [{{
                                                    sitioSeleccionado?.numeroIdentificacion
                                                    }}]
                                                </span>
                                                <span>&nbsp;&nbsp;</span>
                                                <span class="pl-0 text-left font-weight-medium">
                                                    {{
                                                        sitioSeleccionado?.nombres.toUpperCase()
                                                    }}
                                                </span>
                                            </p>
                                        </td>
                                        <td class="pl-0 text-left">PROVINCIA:</td>
                                        <td class="pl-0 text-left font-weight-medium">{{
                                            sitioSeleccionado?.nombreProvinciaSitio.toUpperCase()
                                            }}</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td class="pl-0 text-left">CÓDIGO-SITIO:</td>
                                        <td class="pl-0 text-left font-weight-medium">

                                            <p><span
                                                    class="badge rounded-pill font-weight-bold letra badge-info">
                                                    {{ sitioSeleccionado?.codigoSitio }}
                                                </span></p>
                                        </td>
                                        <td class="pl-0 text-left">CANTÓN:</td>
                                        <td class="pl-0 text-left font-weight-medium">{{
                                            sitioSeleccionado?.nombreCantonSitio.toUpperCase()
                                            }}</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td class="pl-0 text-left">TIPO ÁREA:</td>
                                        <td class="pl-0 text-left font-weight-medium">{{
                                            sitioSeleccionado?.nombreTipoArea.toUpperCase() }}
                                        </td>
                                        <td class="pl-0 text-left">PARROQUIA:</td>
                                        <td class="pl-0 text-left font-weight-medium">{{
                                            sitioSeleccionado?.nombreParroquiaSitio.toUpperCase()
                                            }}</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td class="pl-0 text-left">NOMBRE-SITIO:</td>
                                        <td class="pl-0 text-left font-weight-medium">{{
                                            sitioSeleccionado?.nombre.toUpperCase() }}</td>
                                        <td class="pl-0 text-left">DIRECCIÓN:</td>
                                        <td class="pl-0 text-left font-weight-medium">{{
                                            sitioSeleccionado?.callePrincipalSitio.toUpperCase()
                                            }}</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td class="pl-0 text-left">COORDENADAS:</td>
                                        <td class="pl-0 text-left font-weight-medium">
                                            LAT [{{ sitioSeleccionado?.latitudSitio }}] - LONG
                                            [{{
                                                sitioSeleccionado?.longitudSitio }}]
                                        </td>
                                        <td class="pl-0 text-left">MAPA:</td>
                                        <td class="pl-0 text-left font-weight-medium">
                                            <button class="styled-button bg-info"
                                                (click)="abrirGoogleMaps(sitioSeleccionado?.latitudSitio,sitioSeleccionado?.longitudSitio)">
                                                <i class="fas fa-map-marker-alt"></i>&nbsp;Ver
                                                en
                                                Google Maps
                                            </button>
                                        </td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
<hr class="mt-0" />
<!-- Tabla con el resultado de la búsqueda -->
<div class="row" *ngIf="listaBovinos.length > 0 && !formularioVisible && !infoAnimalVisible">
    <div class="col">
        <div class="card border-info rounded">
            <div class="card-header bg-secondary text-white" *ngIf="listaBovinos.length > 0">
                <span class="font-weight-bold">
                    Listado de nacimientos registrados en el último año
                </span>
                <span class="round rounded-circle text-white font-weight-bold d-inline-block text-center bg-info">{{
                    listaBovinos.length }}</span>
                <div class="btn-group ml-2" role="group" aria-label="Navegar">
                    <button (click)="anterior()" type="button" class="btn btn-success" *ngIf="inicio > 0"><i
                            class="fa fa-fast-backward"></i></button>
                    <button (click)="siguiente()" type="button" class="btn btn-success"
                        *ngIf="listaBovinos.length > 99"><i class="fa fa-fast-forward"></i></button>
                </div>
            </div>
            <div class="card-body">
                <div #scrollContainer class="table-wrapper-scroll-y custom-scrollbar">
                    <table class="table table-bordered table-hover v-middle">
                        <thead>
                            <tr>
                                <th class="badge-light-info font-16 text-center">ID</th>
                                <th class="badge-light-info font-16">Ubicación</th>
                                <th class="badge-light-info font-16 text-center">Descripción</th>
                                <th class="badge-light-info font-16 text-center">Operación</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let bovino of listaBovinos">
                                <td class="text-center">
                                    <span class="badge rounded-pill"
                                        [ngClass]="bovino?.codigoIdentificacion ? 'badge-amarillo' : 'badge-secondary'">
                                        {{ bovino?.codigoIdentificacion ? bovino.codigoIdentificacion : bovino.idBovino
                                        }}
                                    </span>
                                </td>
                                <td>
                                    <p><span class="badge rounded-pill font-weight-bold letra badge-info"
                                            style="font-size:small;">
                                            {{ bovino.codigoSitioActual }}
                                        </span></p>
                                    <p><span class="font-weight-bold" style="font-size:small;">{{
                                            bovino.nombreAreaActual.toUpperCase() }}</span></p>
                                    <p class="font-weight-bold" style="font-size:x-small;">
                                        [{{ bovino.numeroIdentificacionUsuarioActual }}] - {{
                                        bovino.nombresUsuarioActual
                                        }}
                                    </p>
                                    <p style="font-size:smaller;">
                                        {{ bovino.nombreProvinciaActual }} /
                                        {{ bovino.nombreCantonActual }} /
                                        {{ bovino.nombreParroquiaActual }}
                                    </p>
                                </td>
                                <td class="text-center">
                                    <p style="margin-bottom: 0.25rem;"><img
                                            style="vertical-align: middle; margin: 0 8px;" class="mr-3"
                                            src="assets/images/icon/vaca.svg" [hidden]="bovino.codigoSexo === 'macho'"
                                            width="40" alt="Generic placeholder image" />
                                        <img style="vertical-align: middle; margin: 0 8px;" class="mr-3"
                                            src="assets/images/icon/toro.svg" [hidden]="bovino.codigoSexo === 'hembra'"
                                            width="40" alt="Generic placeholder image" />
                                    </p>
                                    <p style="margin-bottom: 0.25rem;"><span class="font-weight-bold"
                                            style="font-size:small;">
                                            {{ bovino?.nombreCategoria ? bovino.nombreCategoria :
                                            bovino.nombreComunTaxonomia }}
                                        </span></p>
                                    <p style="margin-bottom: 0.25rem;"><span class="badge rounded-pill font-weight-bold"
                                            [ngClass]="{'badge-gris':bovino.estadoVacunacion=='vacunado', 'badge-light-danger':bovino.estadoVacunacion=='nacimiento'}">
                                            {{ bovino.estadoVacunacion.toLowerCase() }}
                                        </span></p>
                                    <p style="margin-bottom: 0.25rem;"><span class="font-weight-bold"
                                            style="font-size:small;">
                                            {{ bovino.nombreComunRaza }} ({{ bovino.nombrePureza.toLowerCase() }})
                                        </span></p>
                                    <p style="margin-bottom: 0.25rem; font-size:small;"><span
                                            class="font-weight-bold">Nacimiento:</span>
                                        {{ bovino?.fechaNacimientoFormateada ? bovino.fechaNacimientoFormateada : 'No
                                        registrada' }}
                                    </p>
                                    <p *ngIf="bovino?.registroNacimientoDefinitivo"
                                        style="margin-bottom: 0.25rem; font-size:small;"><span class="font-weight-bold">
                                            {{ bovino?.registroNacimientoDefinitivo }}</span>
                                    </p>
                                </td>
                                <td class="text-center">
                                    <p>
                                        <button type="button" class="btn waves-effect waves-light"
                                            style="background-color: #398bf7; color: white; border: none; border-radius: 25px; padding: 10px 20px; font-size: 14px; font-weight: bold; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2); transition: all 0.3s ease; width: 180px;"
                                            [title]="generarTitulo(bovino)"
                                            (click)="asignarDatosFormularioAnimal(bovino?.idBovino)"
                                            onmouseover="this.style.backgroundColor='#2a7be4'; this.style.boxShadow='0 6px 8px rgba(0, 0, 0, 0.3)';"
                                            onmouseout="this.style.backgroundColor='#398bf7'; this.style.boxShadow='0 4px 6px rgba(0, 0, 0, 0.2)';">
                                            <i class="fa fa-eye"
                                                style="color: white; font-size: 18px; margin-right: 8px;"></i>
                                            Revisar
                                        </button>
                                    </p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Formulario para modificar datos del animal -->
<div class='row' *ngIf="infoAnimalVisible">
    <div class='col'>
        <div class='card border rounded border-info'>
            <!--Sitio de nacimiento del animal-->
            <div class='card-body border rounded shadow-sm p-2' style="background-color: #f8f9fa;">
                <h4 class="card-title text-white text-center py-2 bg-info" style="font-size: 14px;">
                    SITIO DE NACIMIENTO / REGISTRO
                </h4>
                <div class="card-body p-2">
                    <div class="row">
                        <div class="col">
                            <div class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Código-Sitio:
                                </label>
                                <div class="col">
                                    <p class="form-control-static border px-2 py-1 rounded bg-white m-0"
                                        style="font-size: 12px; color: gray; font-weight: bold;">
                                        [{{ animalSeleccionado?.codigoSitioNacimiento }}] {{
                                        animalSeleccionado?.nombreSitioNacimiento.toUpperCase() }}
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Ubicación:
                                </label>
                                <div class="col">
                                    <p class="form-control-static border px-2 py-1 rounded bg-white m-0"
                                        style="font-size: 12px; color: gray; font-weight: bold;">
                                        {{ animalSeleccionado?.nombreProvinciaNacimiento.toUpperCase() }} / {{
                                        animalSeleccionado?.nombreCantonNacimiento.toUpperCase() }} / {{
                                        animalSeleccionado?.nombreParroquiaNacimiento.toUpperCase() }}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Propietario:
                                </label>
                                <div class="col">
                                    <p class="form-control-static border px-2 py-1 rounded bg-white m-0"
                                        style="font-size: 12px; color: gray; font-weight: bold;">
                                        [{{ animalSeleccionado?.identificacionPropietarioSitioNacimiento }}] {{
                                        animalSeleccionado?.nombresPropietarioSitioNacimiento.toUpperCase() }}
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Dirección:
                                </label>
                                <div class="col">
                                    <p class="form-control-static border px-2 py-1 rounded bg-white m-0"
                                        style="font-size: 12px; color: gray; font-weight: bold;">
                                        {{ animalSeleccionado?.callePrincipalSitioNacimiento.toUpperCase() }}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Coordenadas:
                                </label>
                                <div class="col">
                                    <p class="form-control-static border px-2 py-1 rounded bg-white m-0"
                                        style="font-size: 12px; color: gray; font-weight: bold;">
                                        LAT [{{ animalSeleccionado?.latitudSitioNacimiento }}] - LONG [{{
                                        animalSeleccionado?.longitudSitioNacimiento }}]
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Mapa:
                                </label>
                                <div class="col">
                                    <button class="styled-button"
                                        (click)="abrirGoogleMaps(animalSeleccionado?.latitudSitioNacimiento,animalSeleccionado?.longitudSitioNacimiento)">
                                        <i class="fas fa-map-marker-alt"></i>&nbsp;Ver en Google Maps
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--Sitio actual del animal-->
            <div class='card-body border rounded shadow-sm p-2' style="background-color: #f8f9fa;">
                <h4 class="card-title text-white text-center py-2 bg-secondary" style="font-size: 14px;">
                    SITIO ACTUAL
                </h4>
                <div class="card-body p-2">
                    <div class="row">
                        <div class="col">
                            <div class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Código-Sitio:
                                </label>
                                <div class="col">
                                    <p class="form-control-static border px-2 py-1 rounded bg-white m-0"
                                        style="font-size: 12px; color: gray; font-weight: bold;">
                                        [{{ animalSeleccionado?.codigoSitioActual }}] {{
                                        animalSeleccionado?.nombreSitioActual.toUpperCase() }}
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Ubicación:
                                </label>
                                <div class="col">
                                    <p class="form-control-static border px-2 py-1 rounded bg-white m-0"
                                        style="font-size: 12px; color: gray; font-weight: bold;">
                                        {{ animalSeleccionado?.nombreProvinciaActual.toUpperCase() }} / {{
                                        animalSeleccionado?.nombreCantonActual.toUpperCase() }} / {{
                                        animalSeleccionado?.nombreParroquiaActual.toUpperCase() }}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Propietario:
                                </label>
                                <div class="col">
                                    <p class="form-control-static border px-2 py-1 rounded bg-white m-0"
                                        style="font-size: 12px; color: gray; font-weight: bold;">
                                        [{{ animalSeleccionado?.numeroIdentificacionUsuarioActual }}] {{
                                        animalSeleccionado?.nombresUsuarioActual.toUpperCase() }}
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Dirección:
                                </label>
                                <div class="col">
                                    <p class="form-control-static border px-2 py-1 rounded bg-white m-0"
                                        style="font-size: 12px; color: gray; font-weight: bold;">
                                        {{ animalSeleccionado?.callePrincipalSitioActual.toUpperCase() }}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Coordenadas:
                                </label>
                                <div class="col">
                                    <p class="form-control-static border px-2 py-1 rounded bg-white m-0"
                                        style="font-size: 12px; color: gray; font-weight: bold;">
                                        LAT [{{ animalSeleccionado?.latitudSitioActual }}] - LONG [{{
                                        animalSeleccionado?.longitudSitioActual }}]
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Mapa:
                                </label>
                                <div class="col">
                                    <button class="styled-button bg-secondary"
                                        (click)="abrirGoogleMaps(animalSeleccionado?.latitudSitioActual,animalSeleccionado?.longitudSitioActual)">
                                        <i class="fas fa-map-marker-alt"></i>&nbsp;Ver en Google Maps
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--Registro reproductivo-->
            <div class='card-body border rounded shadow-sm p-2' style="background-color: #f8f9fa;">
                <h4 class="card-title text-white text-center py-2 bg-info" style="font-size: 14px;">
                    REGISTRO REPRODUCTIVO
                </h4>
                <div class="card-body p-2">
                    <div class="row">
                        <div class="col">
                            <div class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Tipo de servicio:
                                </label>
                                <div class="col">
                                    <p class="form-control-static border px-2 py-1 rounded bg-white m-0"
                                        style="font-size: 14px; color: gray; font-weight: bold;">
                                        {{ animalSeleccionado?.nombreTipoServicio }}
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div *ngIf="tipoServicioSeleccionado == 1 || tipoServicioSeleccionado == 2"
                                class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Código de pajuela:
                                </label>
                                <div class="col">
                                    <p class="form-control-static border px-2 py-1 rounded bg-white m-0"
                                        style="font-size: 14px; color: gray; font-weight: bold;">
                                        {{ animalSeleccionado?.codigoPajuelaPadre.toUpperCase() }}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div *ngIf="animalSeleccionado?.codigoIdentificacionBovinoMadre"
                                class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Arete de la madre:
                                </label>
                                <div class="col">
                                    <span class="badge rounded-pill"
                                        [ngClass]="animalSeleccionado?.codigoIdentificacionBovinoMadre ? 'badge-amarillo' : 'badge-secondary'"
                                        style="font-size: 14px;">
                                        {{ animalSeleccionado?.codigoIdentificacionBovinoMadre ?
                                        animalSeleccionado.codigoIdentificacionBovinoMadre :
                                        animalSeleccionado.idBovinoMadre }}
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div *ngIf="animalSeleccionado?.codigoIdentificacionBovinoPadre"
                                class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Arete del padre:
                                </label>
                                <div class="col">
                                    <span class="badge rounded-pill"
                                        [ngClass]="animalSeleccionado?.codigoIdentificacionBovinoPadre ? 'badge-amarillo' : 'badge-secondary'"
                                        style="font-size: 14px;">
                                        {{ animalSeleccionado?.codigoIdentificacionBovinoPadre ?
                                        animalSeleccionado.codigoIdentificacionBovinoPadre :
                                        animalSeleccionado.idBovinoPadre }}
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div *ngIf="animalSeleccionado?.codigoIdentificacionBovinoMadreDonadora"
                                class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Arete madre donadora:
                                </label>
                                <div class="col">
                                    <span class="badge rounded-pill"
                                        [ngClass]="animalSeleccionado?.codigoIdentificacionBovinoMadreDonadora ? 'badge-amarillo' : 'badge-secondary'"
                                        style="font-size: 14px;">
                                        {{ animalSeleccionado?.codigoIdentificacionBovinoMadreDonadora ?
                                        animalSeleccionado.codigoIdentificacionBovinoMadreDonadora :
                                        animalSeleccionado.idBovinoMadreDonadora }}
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                        </div>
                    </div>
                </div>
            </div>
            <!-- Pedigrí e identificación -->
            <div class='card-body border rounded shadow-sm p-2' style="background-color: #f8f9fa;">
                <h4 class="card-title text-white text-center py-2 bg-secondary" style="font-size: 14px;">
                    PEDIGRÍ E IDENTIFICACIÓN
                </h4>
                <div class="card-body p-2">
                    <div class="row">
                        <div class="col">
                            <div *ngIf="animalSeleccionado?.fechaNacimiento" class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Fecha nacimiento:
                                </label>
                                <div class="col">
                                    <p class="form-control-static border px-2 py-1 rounded bg-white m-0"
                                        style="font-size: 14px; color: gray; font-weight: bold;">
                                        {{ animalSeleccionado?.fechaNacimientoFormateada }}
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Raza predominante:
                                </label>
                                <div class="col">
                                    <p class="form-control-static border px-2 py-1 rounded bg-white m-0"
                                        style="font-size: 14px; color: gray; font-weight: bold;">
                                        {{ animalSeleccionado?.idCategoria ? animalSeleccionado?.nombreComunRaza :
                                        'NA' }}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Categoría etaria:
                                </label>
                                <div class="col">
                                    <p class="form-control-static border px-2 py-1 rounded bg-white m-0"
                                        style="font-size: 14px; color: gray; font-weight: bold;">
                                        {{ animalSeleccionado?.nombreCategoria }}
                                        [ {{ animalSeleccionado?.nombreComunTaxonomia.toLowerCase() }} - {{
                                        animalSeleccionado?.codigoSexo.toLowerCase() }} ]
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Pureza:
                                </label>
                                <div class="col">
                                    <p class="form-control-static border px-2 py-1 rounded bg-white m-0"
                                        style="font-size: 14px; color: gray; font-weight: bold;">
                                        {{ animalSeleccionado?.idCategoria ? animalSeleccionado?.nombrePureza : 'NA'
                                        }}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Procedencia:
                                </label>
                                <div class="col">
                                    <p class="form-control-static border px-2 py-1 rounded bg-white m-0"
                                        style="font-size: 14px; color: gray; font-weight: bold;">
                                        {{ animalSeleccionado?.idPaisProcedencia == 19 ? 'Nacional' : 'Importado' }}
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    País de procedencia:
                                </label>
                                <div class="col">
                                    <p class="form-control-static border px-2 py-1 rounded bg-white m-0"
                                        style="font-size: 14px; color: gray; font-weight: bold;">
                                        {{ animalSeleccionado?.idPaisProcedencia !== 19 ?
                                        animalSeleccionado?.nombrePaisProcedencia : 'NA' }}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px;">
                                    Nro. Certificado Registro:
                                </label>
                                <div class="col">
                                    <p class="form-control-static border px-2 py-1 rounded bg-white m-0"
                                        style="font-size: 14px; color: gray; font-weight: bold;">
                                        {{ animalSeleccionado?.registroNacimientoDefinitivo ?
                                        animalSeleccionado.registroNacimientoDefinitivo.toUpperCase() : 'NA' }}
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group row align-items-center">
                                <label class="control-label col-md-3 text-right px-2 font-weight-bold"
                                    style="font-size: 14px; font-weight: bold;">
                                    {{ animalSeleccionado?.codigoIdentificacion ? 'Arete oficial:' : 'Código:' }}
                                </label>
                                <div class="col">
                                    <span class="badge rounded-pill"
                                        [ngClass]="animalSeleccionado?.codigoIdentificacion ? 'badge-amarillo' : 'badge-secondary'"
                                        style="font-size: 14px;">
                                        {{ animalSeleccionado?.codigoIdentificacion ?
                                        animalSeleccionado.codigoIdentificacion : animalSeleccionado.idBovino }}
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <div class="form-group mb-0 text-center">
                    <button class="btn btn-danger btn-lg font-weight-bold font-16 text-uppercase mx-2"
                        style="width: 80%;" type="button" (click)="botonSalir()">Salir</button>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Formulario para registro de nacimientos -->
<div *ngIf="formularioVisible" class='row'>
    <div class='col'>
        <div class='card border border-info rounded'>
            <div class="card-header bg-info text-white rounded-top font-weight-bold">
                Registro de nacimientos
            </div>
            <div class="card-body">
                <form ngNativeValidate [formGroup]="formulario" class="form-horizontal r-separator" (keydown.enter)="$event.preventDefault()">
                    <!-- Lugar de nacimiento -->
                    <div class="card-body">
                        <h4 class="card-title">Lugar de nacimiento</h4>
                        <div class="form-group row align-items-center">
                            <label class="col-md-3 text-right control-label col-form-label">Seleccione un
                                sitio<span class="text-danger font-weight-bold"> *</span></label>
                            <div class="col-md-8 border-left pb-2 pt-2">
                                <select formControlName="inputIdSitio"
                                    class="form-control border-secondary font-weight-bold" #idSitio
                                    (change)="cargarEstadisticasNacimientos(idSitio.value)">
                                    <option [value]="null" selected disabled>--- Seleccione una opción ---</option>
                                    <option *ngFor="let area of listaAreas" [value]="area.idSitio">{{
                                        area.codigoSitio.toUpperCase()}} | {{ area.nombreProvinciaSitio.toUpperCase()}}
                                        - {{
                                        area.nombreCantonSitio.toUpperCase()}} | {{ area.nombre.toUpperCase() }}
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <hr *ngIf="panelEstadistica" class="mt-0">
                    <!-- Totales para validación de cantidad a solicitar -->
                    <div *ngIf="panelEstadistica" class="form-group row align-items-center mb-0">
                        <label class="col-md-3 text-right control-label col-form-label">Estadísticas del sitio</label>
                        <div class="col-md-7 border-left pb-2 pt-2">
                            <div class="card border border-secondary rounded">
                                <div style="display: flex; justify-content: space-between; align-items: center; height: 50px;"
                                    class="card-header bg-secondary text-white font-weight-bold rounded-top">
                                    <span>
                                        Cantidad máxima de nacimientos que puede registrar (=)
                                    </span>
                                    <span class="round rounded-circle text-white d-inline-block text-center bg-info">
                                        {{ validacionNacimiento.totalPosible }}
                                    </span>
                                </div>
                                <div class="card-body">
                                    <div class="row justify-content-center"> <!-- Centrar la tabla -->
                                        <table class="table mt-3 table-borderless v-middle mx-auto">
                                            <tbody>
                                                <tr>
                                                    <td class="pl-3 pr-3 text-left font-weight-bold">Bovinos → Vacas
                                                        (+):</td>
                                                    <td class="pl-3 pr-3 text-left">{{ validacionNacimiento.vacas }}
                                                    </td>
                                                    <td class="pl-3 pr-3 text-left font-weight-bold">Búfalos → Hembras
                                                        (+):
                                                    </td>
                                                    <td class="pl-3 pr-3 text-left">{{ validacionNacimiento.bufaloHembra
                                                        }}</td>
                                                </tr>
                                                <tr>
                                                    <td class="pl-3 pr-3 text-left font-weight-bold">Bovinos aprobados
                                                        en el último año (-):</td>
                                                    <td class="pl-3 pr-3 text-left">{{
                                                        validacionNacimiento.bovinosAprobados }}</td>
                                                    <td class="pl-3 pr-3 text-left font-weight-bold">Búfalos aprobados
                                                        en el último año (-):</td>
                                                    <td class="pl-3 pr-3 text-left">{{
                                                        validacionNacimiento.bufalosAprobados }}</td>
                                                </tr>
                                                <tr>
                                                    <td class="pl-3 pr-3 text-left font-weight-bold">Bovinos →
                                                        nacimientos posibles (=):</td>
                                                    <td class="pl-3 pr-3 text-left">{{
                                                        validacionNacimiento.cantidadPosibleBovinos }}</td>
                                                    <td class="pl-3 pr-3 text-left font-weight-bold">Búfalos →
                                                        nacimientos posibles (=):</td>
                                                    <td class="pl-3 pr-3 text-left">{{
                                                        validacionNacimiento.cantidadPosibleBufalos }}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr class="mt-0">
                    <!-- Tipo de registro -->
                    <div class="card-body">
                        <h4 class="card-title">Tipo de registro del animal</h4>
                        <div class="form-group row align-items-center">
                            <label class="col-md-3 text-right control-label col-form-label">Seleccione un
                                tipo<span class="text-danger font-weight-bold"> *</span></label>
                            <div class="col-md-4 border-left pb-2 pt-2">
                                <select #identificador formControlName="inputIdTipoRegistro"
                                    class="form-control border-secondary font-weight-bold"
                                    (change)="cambioTipoRegistro()">
                                    <option *ngFor="let tipoRegistro of tiposRegistros"
                                        [value]="tipoRegistro.id_tipo_registro">{{ tipoRegistro.nombre }}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <hr class="mt-0">
                    <!-- Datos de nacimiento-->
                    <div class="card-body">
                        <h4 class="card-title">Datos generales del animal</h4>
                        <div class="form-group row align-items-center">
                            <label class="col-md-3 text-right control-label col-form-label">
                                Fecha de nacimiento<span class="text-danger font-weight-bold"> *</span>
                            </label>
                            <div class="col-md-3 border-left pb-2 pt-2">
                                <input formControlName="inputFechaNacimiento" type="date"
                                    class="form-control border-secondary">
                            </div>
                        </div>
                        <div class="form-group row align-items-center">
                            <label class="col-md-3 text-right control-label col-form-label">
                                Especie<span class="text-danger font-weight-bold"> *</span>
                            </label>
                            <div class="col-md-3 border-left pb-2 pt-2">
                                <select formControlName="inputIdTaxonomia"
                                    class="form-control border-secondary font-weight-bold" (change)="cambioTaxonomia()">
                                    <option [value]="null" selected disabled>--- Seleccione una opción ---</option>
                                    <option [value]="taxonomia.id_taxonomia" *ngFor="let taxonomia of taxonomias">
                                        {{ taxonomia.nombre_comun }}</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group row align-items-center">
                            <label class="col-md-3 text-right control-label col-form-label">
                                Sexo<span class="text-danger font-weight-bold"> *</span>
                            </label>
                            <div class="col-md-3 border-left pb-2 pt-2">
                                <select formControlName="inputIdSexo"
                                    class="form-control border-secondary font-weight-bold">
                                    <option [value]="null" selected disabled>--- Seleccione una opción ---</option>
                                    <option [value]="sexo.id_sexo" *ngFor="let sexo of sexos">{{ sexo.nombre }}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <!-- Registro reproductivo -->
                    <hr *ngIf="frameRegDefinitivo" class="mt-0">
                    <div *ngIf="frameRegDefinitivo" class="card-body">
                        <h4 class="card-title">Registro reproductivo</h4>
                        <div class="form-group row align-items-center">
                            <label class="col-md-3 text-right control-label col-form-label">
                                Tipo de servicio<span class="text-danger font-weight-bold"> *</span>
                            </label>
                            <div class="col-md-4 border-left pb-2 pt-2">
                                <select formControlName="inputTipoServicio" (change)="cambioTipoServicio()"
                                    class="form-control border-secondary font-weight-bold">
                                    <option [value]="null" selected disabled>--- Seleccione una opción ---</option>
                                    <option [value]="tipoServicio.id_tipo_servicio"
                                        *ngFor="let tipoServicio of tiposServicios">{{ tipoServicio.nombre }}</option>
                                </select>
                            </div>
                        </div>
                        <div *ngIf="tipoServicioSeleccionado == 1 || tipoServicioSeleccionado == 2 || tipoServicioSeleccionado == 3"
                            class="form-group row align-items-center">
                            <label class="col-md-3 text-right control-label col-form-label">
                                Arete de la madre
                            </label>
                            <div class="col-md-9 border-left pb-2 pt-2 d-flex align-items-center">
                                <select formControlName="inputIdBovinoMadre"
                                    class="form-control border-secondary font-weight-bold" style="width: 43%;">
                                    <option [value]="null" selected disabled>--- Seleccione una opción ---</option>
                                    <option [value]="madre.idBovino" *ngFor="let madre of listaMadres">
                                        {{ madre.codigoIdentificacion }}
                                        {{ madre?.nombreCategoria || 'Búfalo Hembra' }}
                                        {{ madre.nombreComunRaza }}
                                        {{ madre.nombrePureza }}
                                    </option>
                                </select>
                                <div class="col-md-4 pb-2 pt-2 input-group ml-2">
                                    <input type="text" class="form-control border-secondary"
                                        formControlName="inputBuscarMadre" placeholder="Ejemplo: EC006132717"
                                        maxlength="11" (keydown.enter)="buscarMadres()">
                                    <div class="input-group-append">
                                        <button class="btn btn-info border-secondary font-weight-bold"
                                            (click)="buscarMadres()">
                                            <i class="fas fa-search"></i> Buscar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="tipoServicioSeleccionado == 2" class="form-group row align-items-center">
                            <label class="col-md-3 text-right control-label col-form-label">
                                Arete de la madre donadora
                            </label>
                            <div class="col-md-9 border-left pb-2 pt-2 d-flex align-items-center">
                                <select formControlName="inputIdBovinoMadreDonadora"
                                    class="form-control border-secondary font-weight-bold" style="width: 43%;">
                                    <option [value]="null" selected disabled>--- Seleccione una opción ---</option>
                                    <option [value]="madre.idBovino" *ngFor="let madre of listaMadresDonadoras">
                                        {{ madre.codigoIdentificacion }}
                                        {{ madre?.nombreCategoria || 'Búfalo Hembra' }}
                                        {{ madre.nombreComunRaza }}
                                        {{ madre.nombrePureza }}
                                    </option>
                                </select>
                                <div class="col-md-4 pb-2 pt-2 input-group ml-2">
                                    <input type="text" class="form-control border-secondary"
                                        formControlName="inputBuscarMadreDonadora" maxlength="11"
                                        placeholder="Ejemplo: EC006132720" (keydown.enter)="buscarMadresDonadoras()">
                                    <div class="input-group-append">
                                        <button class="btn btn-danger border-secondary font-weight-bold"
                                            (click)="buscarMadresDonadoras()">
                                            <i class="fas fa-search"></i> Buscar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="tipoServicioSeleccionado == 3" class="form-group row align-items-center">
                            <label class="col-md-3 text-right control-label col-form-label">
                                Arete del padre
                            </label>
                            <div class="col-md-9 border-left pb-2 pt-2 d-flex align-items-center">
                                <select formControlName="inputIdBovinoPadre"
                                    class="form-control border-secondary font-weight-bold" style="width: 43%;">
                                    <option [value]="null" selected disabled>--- Seleccione una opción ---</option>
                                    <option [value]="padre.idBovino" *ngFor="let padre of listaPadres">
                                        {{ padre.codigoIdentificacion }}
                                        {{ padre?.nombreCategoria || 'Búfalo Hembra' }}
                                        {{ padre.nombreComunRaza }}
                                        {{ padre.nombrePureza }}
                                    </option>
                                </select>
                                <div class="col-md-4 pb-2 pt-2 input-group ml-2">
                                    <input type="text" class="form-control border-secondary"
                                        formControlName="inputBuscarPadre" maxlength="11"
                                        placeholder="Ejemplo: EC006132718" (keydown.enter)="buscarPadres()">
                                    <div class="input-group-append">
                                        <button class="btn btn-secondary border-secondary font-weight-bold"
                                            (click)="buscarPadres()">
                                            <i class="fas fa-search"></i> Buscar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="tipoServicioSeleccionado == 1 || tipoServicioSeleccionado == 2"
                            class="form-group row align-items-center">
                            <label class="col-md-3 text-right control-label col-form-label">
                                Código de pajuela del padre
                            </label>
                            <div class="col-md-4 border-left pb-2 pt-2">
                                <input formControlName="inputCodigoPajuelaPadre" type="text"
                                    class="form-control border-secondary"
                                    placeholder="ingrese código de la pajuela del padre" maxlength="50">
                            </div>
                        </div>
                    </div>
                    <hr *ngIf="frameRegDefinitivo" class="mt-0">
                    <!-- Identificación -->
                    <div *ngIf="frameRegDefinitivo" class="card-body">
                        <h4 class="card-title">Pedigrí e identificación</h4>
                        <div *ngIf="razaPureza" class="form-group row align-items-center">
                            <label class="col-md-3 text-right control-label col-form-label">
                                Raza predominante<span class="text-danger font-weight-bold"> *</span>
                            </label>
                            <div class="col-md-3 border-left pb-2 pt-2">
                                <select formControlName="inputRaza"
                                    class="form-control border-secondary font-weight-bold">
                                    <option [value]="null" selected disabled>--- Seleccione una opción ---</option>
                                    <option [value]="raza.id_raza" *ngFor="let raza of razas">{{ raza.nombre_comun }}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div *ngIf="razaPureza" class="form-group row align-items-center">
                            <label class="col-md-3 text-right control-label col-form-label">
                                Pureza<span class="text-danger font-weight-bold"> *</span>
                            </label>
                            <div class="col-md-3 border-left pb-2 pt-2">
                                <select formControlName="inputPureza"
                                    class="form-control border-secondary font-weight-bold">
                                    <option [value]="null" selected disabled>--- Seleccione una opción ---</option>
                                    <option [value]="pureza.id_pureza" *ngFor="let pureza of purezas">{{ pureza.nombre
                                        }}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group row align-items-center">
                            <label class="col-md-3 text-right control-label col-form-label">
                                Procedencia
                            </label>
                            <div class="col-md-3 border-left pb-2 pt-2">
                                <select formControlName="inputProcedencia"
                                    class="form-control border-secondary font-weight-bold"
                                    (change)="cambioProcedencia()">
                                    <option *ngFor="let procedencia of listaProcedencia" [value]="procedencia.idProcedencia">{{ procedencia.nombre }}</option>
                                </select>
                            </div>
                        </div>
                        <div *ngIf="procedenciaVisible" class="form-group row align-items-center">
                            <label class="col-md-3 text-right control-label col-form-label">
                                País de procedencia
                            </label>
                            <div class="col-md-3 border-left pb-2 pt-2">
                                <select formControlName="inputPaisProcedencia"
                                    class="form-control border-secondary font-weight-bold">
                                    <option [value]="null" selected disabled>--- Seleccione una opción ---</option>
                                    <option [value]="pais.id_pais" *ngFor="let pais of listaPaises">{{ pais.nombre
                                        }}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group row align-items-center">
                            <label class="col-md-3 text-right control-label col-form-label">
                                Nro. Certificado Registro / Otra identificación:
                            </label>
                            <div class="col-md-3 border-left pb-2 pt-2">
                                <input formControlName="inputNumeroRegistroNacimiento" type="text"
                                    class="form-control border-secondary"
                                    placeholder="ingrese nro. de certificado de registro" maxlength="50">
                            </div>
                        </div>
                        <div class="form-group row align-items-center">
                            <label class="col-md-3 text-right control-label col-form-label">
                                Arete oficial<span class="text-danger font-weight-bold"> *</span>
                            </label>
                            <div class="col-md-9 border-left pb-2 pt-2 d-flex align-items-center">
                                <select formControlName="inputArete"
                                    class="form-control border-secondary font-weight-bold" style="width: 31%;">
                                    <option [value]="null" selected disabled>--- Seleccione una opción ---</option>
                                    <option [value]="arete.idAretesBovinos" *ngFor="let arete of listaAretesAprobados">
                                        {{ arete.codigoOficial }}
                                    </option>
                                </select>
                                <div class="col-md-4 pb-2 pt-2 input-group ml-2">
                                    <input type="text" class="form-control border-secondary"
                                        formControlName="inputBuscarArete" maxlength="11"
                                        placeholder="Ejemplo: EC006132750" (keydown.enter)="buscarAretesOficiales(true)">
                                    <div class="input-group-append">
                                        <button class="btn btn-info border-secondary font-weight-bold"
                                            (click)="buscarAretesOficiales(true)">
                                            <i class="fas fa-search"></i> Buscar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr class="mt-0">
                    <div class="form-group row align-items-center mb-0">
                        <div class="col-md-9 pb-2 pt-2">
                            <p class="text-muted mb-3 font-weight-bold" style="font-size: 0.9rem; padding-left: 4%;">
                                <em>Los campos marcados con <span class="text-danger font-weight-bold">*</span> son
                                    obligatorios.</em>
                            </p>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="form-group mb-0 text-center">
                            <button class="btn btn-info btn-lg font-weight-bold font-16 text-uppercase mx-2"
                                style="width: 48%;" type="button" (click)="registrarBovino()">Registrar</button>
                            <button class="btn btn-danger btn-lg font-weight-bold font-16 text-uppercase mx-2"
                                style="width: 48%;" type="button" (click)="botonCancelar()">Cancelar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>