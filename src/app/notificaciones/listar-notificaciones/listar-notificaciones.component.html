<hr class="mt-0">
<div class='row'>
    <div class='col-12'>
        <div class='card'>
            <div class="card-header bg-info text-white rounded-top">
                Notificaciones
            </div>
            <hr class="mt-0">
            <div class="card-body">
                <h4 class="card-title">Listado de notificaciones</h4>
                <div class="form-group row align-items-center mb-0">
                    <table class="table">
                        <tbody>
                            <tr class="d-flex">
                                <td class="col-sm-2 col-md-2 col-lg-2">Leídas: {{this.totalLeidas}}</td>
                                <td class="col-sm-2 col-md-2 col-lg-2">Por leer: {{this.totalLeer}}</td>
                                <td class="col-sm-2 col-md-2 col-lg-2">Total: {{this.totalLeidas + this.totalLeer}}</td>
                            </tr>
                            <tr class="d-flex">
                                <td class="col-sm-1 col-md-1 col-lg-1">Filtrar:</td>
                                <td class="col-sm-3 col-md-3 col-lg-3">
                                    <select class="form-control" name="filtro" #filtro (change)="filtrar(filtro.value)">
                                        <option value=null selected disabled>Seleccione una opción</option>
                                        <option value=0 >Todas</option>
                                        <option value=1 >Pendientes de leer</option>
                                        <option value=2 >Leídas</option>
                                    </select>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="form-group row align-items-center mb-0 contenedor-tabla-overflow">
                    <table class="table">
                        <thead>
                            <tr class="d-flex">
                                <th scope="col" class="col-sm-1 col-md-1 col-lg-1">Estado</th>
                                <th scope="col" class="col-sm-2 col-md-2 col-lg-2">Fecha</th>
                                <th scope="col" class="col-sm-3 col-md-3 col-lg-3">Asunto</th>
                                <th scope="col" class="col-sm-4 col-md-4 col-lg-4">Mensaje</th>
                                <th scope="col" class="col-sm-1 col-md-1 col-lg-1"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let notificacion of listaNotificaciones" class="d-flex">
                                <td class="col-sm-1 col-md-1 col-lg-1"><i *ngIf="notificacion.estado == 1; else elseBlock" class="fas fa-envelope icono-tabla"></i>
                                    <ng-template #elseBlock><i class="fas fa-envelope-open icono-tabla"></i>
                                    </ng-template></td>
                                <td class="col-sm-2 col-md-2 col-lg-2">{{notificacion.fechaNotificacion.date.substring(0,16)}}</td>
                                <td class="col-sm-3 col-md-3 col-lg-3">
                                    <p class="text-muted mb-1 font-14">{{notificacion.titulo}}</p>
                                </td>
                                <td class="col-sm-4 col-md-4 col-lg-4">
                                    <p class="text-muted mb-1 font-14">{{notificacion.texto}}</p>
                                </td>
                                <td class="col-sm-1 col-md-1 col-lg-1"><button type="button" class="btn btn-info" (click)='leerNotificacion(notificacion.idNotificacion)'><i class="fas fa-eye"></i></button>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class='card' *ngIf="this.detalleVisible">
            <div class="card-header bg-info text-white rounded-top">
                Detalle Notificación
            </div>
            <div class="card-body">
                <h4 class="card-title">{{this.notificacionSeleccionada.titulo}}</h4>
                <div class="form-group row align-items-center mb-0">
                    <label class="col-md-3 text-right control-label col-form-label">Fecha notificación</label>
                    <div class="col-md-9 border-left pb-2 pt-2">
                        <label class="col-md-9 text-left control-label col-form-label">{{this.notificacionSeleccionada.fechaNotificacion.toLocaleString()}}</label>
                    </div>
                </div>
                <div class="form-group row align-items-center mb-0">
                    <label class="col-md-3 text-right control-label col-form-label">Mensaje</label>
                    <div class="col-md-9 border-left pb-2 pt-2">
                        <p class="col-md-9 text-left control-label col-form-label">{{this.notificacionSeleccionada.texto}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
